<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.6.0.js"> </script>
    <style>
      div{
        padding:10px
      }
    </style>

  </head>
  

  <body>

   <div>
	  <input id= "jsonstring1" type="text" value=''>
      <label for=jsonstring1>Pflanze</label>
    </div>

    <div>
        <input id= "jsonstring2" type="text" value=''>
        <label for=jsonstring2>Name</label>
      </div>

      <div>
        <input id= "jsonstring3" type="text" value=''>
        <label for=jsonstring5>Nachname</label>
      </div>

      <div>
        <input id= "jsonstring4" type="text" value=''>
        <label for=jsonstring4>Straße</label>
    </div>

    <div>
        <input id= "jsonstring5" type="text" value=''>
        <label for=jsonstring5>Suche</label>
    </div>

    <div><button onclick= "addAll();">Fertig</button></div>
    <div><button onclick= "search();">Suche</button></div>

  <!-- <div>
    <button onclick="readwithkey();">Make read with key request</button>
  </div> -->

  <div>
    <button onclick="listAllData();"> List all Data</button>
  </div>
	
	<script>
    function add()
    {
      var jsonstring=  '{"Pflanze":"'+$("#jsonstring").val()+'"}';
      console.log("add"+ jsonstring);
      $.get("https://webtechlecture.appspot.com/cloudstore/add?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&jsonstring="+encodeURI(jsonstring),function(response)
      {
        console.log(response);
      });
    }

    function listAllData()
    {
      var jsonstring=$("#jsonstring").val();
      console.log("Hi!");
      $.get("https://webtechlecture.appspot.com/cloudstore/listobjects?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_",function(response)
      {
        console.log(response);
      });
    }
		
    function del()
    {
      var jsonstring=$("#jsonstring").val();
      console.log("Del");
      $.get("https://webtechlecture.appspot.com/cloudstore/del?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&key=1640178157404",function(response)
      {
        console.log(response);
      });
    }	
    

    function addAll()
    {

      var jsonstring=  
      
      '{"Pflanze":"'+$("#jsonstring1").val()+'",'+
      '"Name":"'+$("#jsonstring2").val()+'",'+
      '"Nachname":"'+$("#jsonstring3").val()+'",'+
      '"Straße":"'+$("#jsonstring4").val()+

      '"}';
      console.log("add"+ jsonstring);
      $.get("https://webtechlecture.appspot.com/cloudstore/add?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&jsonstring="+encodeURI(jsonstring),function(response)
      {
        console.log(response);
      });
    }

    function spec()
    {
      var specvar =  
      $.get('https://webtechlecture.appspot.com/cloudstore/ ?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&jsonstring={"Pflanzen":"Lillie"}',function(response)
      {
        console.log(response);
      });
    }
    

 
    function search()
    {
        var nam = String($("#jsonstring5").val())
        var data = []
        var needle = 'AL';
      $.get("https://webtechlecture.appspot.com/cloudstore/listobjects?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_",function(response)
      {
      
        for (var i = 0; i < response.length; i++)
        data.push(response[i]);


        for (var i = 0; i < data.length; i++){
            if (data[i].jsonstring.Pflanze == nam){
                console.log(data[i].jsonstring);

                console.log(data[12].jsonstring[1])

        }};
    });         
};



    
 // function search()
    // {
    //   var data = []
    //   var nam = String($("#jsonstring5").val())
    //   var bruh = 'Pflanze'
    //   console.log("Hi!");
    //   $.get("https://webtechlecture.appspot.com/cloudstore/listobjects?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_",function(response)
    //   {
    //     for (var i = 0; i < response.length; i++)
    //     data.push(response[i]);

    //     for (var i = 0; i < data.length; i++)
    //     console.log(data[i].jsonstring.bruh)
    //     console.log(nam)

    //   });
    // }


	</script>
  </body>
</html>


  