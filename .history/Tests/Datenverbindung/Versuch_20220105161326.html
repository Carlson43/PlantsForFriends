<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.6.0.js"> </script>
    <style>
      div{
        padding:10px
      }
    </style>

  </head>
  

  <body>

   <div>
	  <input id= "jsonstring1" type="text" value=''>
      <label for=jsonstring1>Pflanzenart</label>
    </div>

    <div>
        <input id= "jsonstring2" type="text" value=''>
        <label for=jsonstring2>Preis</label>
      </div>

      <div>
        <input id= "jsonstring3" type="text" value=''>
        <label for=jsonstring5>Kontaktmöglichkeit</label>
      </div>

      <div>
        <input id= "jsonstring4" type="text" value=''>
        <label for=jsonstring4>Beschreibung</label>
    </div>

    <div>
      <input id= "jsonstring5" type="text" value=''>
      <label for=jsonstring4>lat</label>
  </div>


  <div>
    <input id= "jsonstring6" type="text" value=''>
    <label for=jsonstring4>lng</label>
</div>


<div>
  <input id= "jsonstring7" type="text" value=''>
  <label for=jsonstring4>Titel</label>
</div>


<div>
  <input id= "jsonstring8" type="text" value=''>
  <label for=jsonstring4>key</label>
</div>


    <div><button onclick= "addAll();">Fertig</button></div>
    <div><button onclick= "search();">Suche</button></div>

  <!-- <div>
    <button onclick="readwithkey();">Make read with key request</button>
  </div> -->

  <div>
    <button onclick="listAllData();"> List all Data</button>
  </div>
	
	<script>
    function add()
    {
      var jsonstring=  '{"Pflanze":"'+$("#jsonstring").val()+'"}';
      console.log("add"+ jsonstring);
      $.get("https://webtechlecture.appspot.com/cloudstore/add?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&jsonstring="+encodeURI(jsonstring),function(response)
      {
        console.log(response);
      });
    }

    function listAllData()
    {
      var jsonstring=$("#jsonstring").val();
      console.log("Hi!");
      $.get("https://webtechlecture.appspot.com/cloudstore/listobjects?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_",function(response)
      {
        console.log(response);
      });
    }
		
    function del()
    {
      var jsonstring=$("#jsonstring").val();
      console.log("Del");
      $.get("https://webtechlecture.appspot.com/cloudstore/del?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&key=1640178157404",function(response)
      {
        console.log(response);
      });
    }	
    

    function addAll()
    {

      var jsonstring=  
      
      '{"Pflanzenart":"'+$("#jsonstring1").val()+'",'+
      '"Preis":"'+$("#jsonstring2").val()+'",'+
      '"Kontaktmöglichkeit":"'+$("#jsonstring3").val()+'",'+
      '"Beschreibung":"'+$("#jsonstring4").val()+'",'+
      '"lat":"'+$("#jsonstring5").val()+'",'+
      '"lng":"'+$("#jsonstring6").val()+'",'+
      '"Titel":"'+$("#jsonstring7").val()+'"}';

      console.log("add"+ jsonstring);
      $.get("https://webtechlecture.appspot.com/cloudstore/add?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&jsonstring="+jsonstring+"&key="+$("#jsonstring8").val(),function(response)
      {
        console.log(response);
      });
    }

    function spec()
    {
      var specvar =  
      $.get('https://webtechlecture.appspot.com/cloudstore/ ?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_&jsonstring={"Pflanzen":"Lillie"}',function(response)
      {
        console.log(response);
      });
    }
    
function search()
    {
        var nam = String($("#jsonstring5").val())
        var data = []
      $.get("https://webtechlecture.appspot.com/cloudstore/listobjects?owner=s201655&token=dMinmYeldeDsBbu0iiEIPGTPws0_",function(response)
      {
      
        for (var i = 0; i < response.length; i++)
        data.push(response[i]);


        for (var i = 0; i < data.length; i++){
            if (data[i].jsonstring.Pflanze == nam){
                console.log(data[i].jsonstring)}
                  else{
                    for (var i = 0; i < data.length; i++){
                      if (data[i].jsonstring.Name == nam){
                      console.log(data[i].jsonstring)}
                      else{
                        for (var i = 0; i < data.length; i++){
                          if (data[i].jsonstring.Nachname == nam){
                            console.log(data[i].jsonstring)}
                            else{
                                for (var i = 0; i < data.length; i++){
                                    if (data[i].jsonstring.Straße == nam){
                                    console.log(data[i].jsonstring)}                                        
                        };            	          
                  }
                }
              }
            }
          }
        };
    });         
};
	</script>
  </body>
</html>


  